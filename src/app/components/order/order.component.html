<!-- <app-header></app-header> -->
<div class="container">
    <div class="intro-section">
        <h1>Order Summary</h1>
        <p>Thank you for your order! Here are the details:</p>
    </div>

    <form [formGroup]="orderForm">
        <div class="row">
            <div class="col-md-6">
                <h2 class="product-header">Thong tin nguoi nhan</h2>
                    <div class="mb-3">
                        <label for="fullname" class="form-label">Full Name:</label>
                        <input type="text"   id="fullname" class="form-control"
                        formControlName="fullname"
                        [class.is-invalid]="orderForm.get('fullname')!.invalid&& 
                        orderForm.get('fullname')!.touched"
                        placeholder="Enter your name">
                        <div *ngIf="orderForm.get('fullname')!.invalid && 
                        orderForm.get('fullname')!.touched" class="invalid-feedback">
                            Ho va ten bat buoc phai nhap
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address:</label>
                        <input type="text" id="address" class="form-control"
                        formControlName="address"
                        [class.is-invalid]="orderForm.get('address')!.invalid && 
                        orderForm.get('address')!.touched" 
                        placeholder="Enter your address">
                        <div *ngIf="orderForm.get('address')!.invalid && 
                        orderForm.get('address')!.touched" class="invalid-feedback">
                            Address là bắt buộc và không được ít hơn 10 ký tự
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="phonenumber" class="form-label" >Phone:</label>
                        <input type="text" id="phonenumber" class="form-control" 
                        formControlName="phone_number"
                        [class.is-invalid]="orderForm.get('phone_number')!.invalid && 
                        orderForm.get('phone_number')!.touched"
                        placeholder="Enter your phone number">
                        <div *ngIf="orderForm.get('phone_number')!.invalid && 
                        orderForm.get('phone_number')!.touched" class="invalid-feedback">
                            Phone number là bắt buộc và không được ít hơn 6 ký tự
                        </div>   
                    </div>
                    <!--  nếu invalid thì sẽ xuất hiện, là có lỗi true , 
                      còn nếu là false là không có lỗi => không xuất hiện-->
                      
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" id="email" class="form-control"
                        formControlName="email"
                        [class.is-invalid]="orderForm.get('email')!.invalid &&
                        orderForm.get('email')!.touched"
                        placeholder="Enter your email">

                        <div *ngIf="orderForm.get('email')!.invalid && 
                        orderForm.get('email')!.touched" class="invalid-feedback">
                        Phải nhập đúng email
                        </div>  

                    </div>

                    <div class="mb-3">
                        <label for="note" class="form-label" >Note:</label>
                        <textarea id="note" class="form-control"
                        formControlName="note"
                        placeholder="Enter any special instructions"></textarea>
                    </div>

            </div>
            <div class="col-md-6">
                <h2 class="product-order">Order Details</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Total</th>

                        </tr>

                    </thead>
                    <tbody>
                        <ng-container *ngFor="let item of cartItems">
                            <tr>
                                <td>
                                    <div class="product-info">
                                        <img [src]="item.product.image" alt="Product Image" class="product-image">
                                    </div>
                                    
                                </td>
                                <td>{{item.product.name}}</td>
                                <td>{{item.product.price | currency:'VND':'symbol':'1.0-0'}}</td> <!-- | hyperline (output = input after)-->
                                <td>{{item.quantity}}</td>
                                <td>{{item.product.price*item.quantity| currency:'VND':'symbol':'1.0-0'}}</td>
                            </tr>
        
                        </ng-container>
            
                    
                    </tbody>
                </table>
                <div class="text-start mt-3">
                    Total Amout: {{ totalAmount | currency:'VND':'symbol':'1.0-0' }}
                </div>
                <div class="mt-3">
                    <h4 class="product-header">Nhap coupon</h4>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Enter coupon code">
                        <button class="btn btn-gradient" type="button">Apply</button>

                    </div>
                </div>
                <div class="text-start mt-3">
                    <button class="btn btn-gradient" type="button" (click)="placeOrder()">Confirm Order</button>

                </div>
            
        </div>
    </div>



</form>

<!-- <app-footer></app-footer> -->